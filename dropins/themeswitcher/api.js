/*! Copyright 2025 Adobe
All Rights Reserved. */
import{Initializer as i}from"@dropins/tools/lib.js";import{FetchGraphQL as s}from"@dropins/tools/fetch-graphql.js";const n=new i({init:async e=>{const t={};n.config.setConfig({...t,...e})},listeners:()=>[]}),u=n.config,{setEndpoint:f,setFetchGraphQlHeader:p,removeFetchGraphQlHeader:k,setFetchGraphQlHeaders:w,fetchGraphQl:T,getConfig:C}=new s().getMethods();let a="auto";const c=()=>a,r=()=>a==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:a==="dark",o=e=>{a=e;let t;e==="auto"?t=window.matchMedia("(prefers-color-scheme: dark)").matches:t=e==="dark",document.documentElement.setAttribute("data-theme",t?"dark":"light"),localStorage.setItem("theme",e),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:e,isDark:t}}))},h=()=>{const e=r()?"light":"dark";o(e)},d=()=>{const e=localStorage.getItem("theme");e&&["light","dark","auto"].includes(e)?o(e):o("auto"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{a==="auto"&&o("auto")})},m=()=>({currentTheme:a,isDark:r()}),v=()=>({getCurrentTheme:c,isDarkTheme:r,setTheme:o,toggleTheme:h,initializeTheme:d,getThemeState:m});export{u as config,T as fetchGraphQl,C as getConfig,c as getCurrentTheme,m as getThemeState,n as initialize,d as initializeTheme,r as isDarkTheme,k as removeFetchGraphQlHeader,f as setEndpoint,p as setFetchGraphQlHeader,w as setFetchGraphQlHeaders,o as setTheme,v as themeApi,h as toggleTheme};
//# sourceMappingURL=api.js.map
